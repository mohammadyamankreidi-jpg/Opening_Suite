<!DOCTYPE html><html lang="nl"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Belangrijke dingen</title>
  <style>
    body{margin:0;background:#0e1116;color:#e8ecf3;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    .app{max-width:900px;margin:auto;padding:20px;display:flex;flex-direction:column;gap:16px}
    header{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;background:#151922;border:1px solid #242a36;border-radius:12px;padding:14px 18px;position:sticky;top:0;z-index:5}
    h1{margin:0;font-size:1.4rem}
    .nav{display:flex;gap:10px;align-items:center}
    .nav a{color:#cfe1ff;text-decoration:none;border:1px solid #2a3242;border-radius:10px;padding:8px 10px;background:#10141b}
    button{background:#10141b;border:1px solid #2a3242;border-radius:8px;color:#e8ecf3;padding:10px 12px;cursor:pointer;font-weight:600}
    button:hover{border-color:#3a465e}
    ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
    li{display:flex;align-items:center;gap:12px;background:#11151d;border:1px solid #242a36;padding:10px 12px;border-radius:10px;transition:all .15s ease}
    li.done{opacity:.6;text-decoration:line-through}
    input[type='checkbox']{transform:scale(1.2)}
    footer{font-size:12px;color:#a0acc0;text-align:center;margin-top:20px}
    .empty{padding:14px 18px;background:#11151d;border:1px solid #242a36;border-radius:10px;color:#9fb0cb}
    .add{display:grid;grid-template-columns:1fr auto;gap:10px}
    input[type="text"]{padding:10px 12px;border-radius:8px;border:1px solid #2a3242;background:#0b0f15;color:#e8ecf3}
  </style>
  <script>
    function createChecklist({KEY, defaultItems}){
      const list = document.getElementById("list");
      const emptyBox = document.getElementById("emptyBox");
      const input = document.getElementById("newItem");
      function save(data){ localStorage.setItem(KEY, JSON.stringify(data)); }
      function loadRaw(){ return localStorage.getItem(KEY); }
      function load(){
        const data = loadRaw();
        if(!data) return null;
        try{ return JSON.parse(data); }catch{ return null; }
      }
      function seed(){
        const init = (defaultItems||[]).map(t=>({text:t,done:false}));
        save(init); return init;
      }
      function ensureData(){
        const parsed = load();
        if(!parsed || !Array.isArray(parsed)){ return seed(); }
        if(parsed.length===0 && (defaultItems||[]).length){ return seed(); }
        return parsed;
      }
      function render(){
        const data = ensureData();
        list.innerHTML = "";
        emptyBox.style.display = (data.length===0) ? "block" : "none";
        data.forEach((item,i)=>{
          const li = document.createElement("li");
          li.className = item.done ? "done" : "";
          const cb = document.createElement("input");
          cb.type = "checkbox"; cb.checked = item.done;
          cb.addEventListener("change", ()=>toggle(i));
          const span = document.createElement("span");
          span.textContent = item.text;
          span.addEventListener("click", ()=>toggle(i));
          const del = document.createElement("button");
          del.textContent = "üóëÔ∏è"; del.title="Verwijder";
          del.addEventListener("click", ()=>remove(i));
          li.append(cb,span,del);
          list.append(li);
        });
      }
      function toggle(i){
        const data = load() || [];
        if(!data[i]) return;
        data[i].done = !data[i].done; save(data); render();
      }
      function resetAll(){
        const data = (load() || []).map(x=>({...x,done:false}));
        save(data); render();
      }
      function clearAll(){
        if(confirm("Weet je zeker dat je de hele lijst wilt wissen?")){
          save([]); render();
        }
      }
      function exportFile(){
        const blob = new Blob([loadRaw() || "[]"],{type:"application/json"});
        const url = URL.createObjectURL(blob);
        const a=document.createElement("a");
        a.href=url;a.download="checklist_backup.json";
        document.body.append(a);a.click();a.remove();
        URL.revokeObjectURL(url);
      }
      function importFile(file){
        const reader=new FileReader();
        reader.onload=()=>{
          try{
            const data=JSON.parse(reader.result);
            if(!Array.isArray(data))throw new Error("Ongeldig formaat");
            save(data);render();
          }catch(e){alert("Import mislukt: "+e.message)}
        };
        reader.readAsText(file);
      }
      function addItem(text){
        const clean=(text||"").trim(); if(!clean) return;
        const data = ensureData(); data.push({text:clean,done:false}); save(data); render();
      }

      document.getElementById("btnSeed").onclick=()=>{ seed(); render(); };
      document.getElementById("btnReset").onclick=resetAll;
      document.getElementById("btnClear").onclick=clearAll;
      document.getElementById("btnExport").onclick=exportFile;
      document.getElementById("btnImport").onclick=()=>document.getElementById("fileInput").click();
      document.getElementById("fileInput").addEventListener("change",e=>{
        const f=e.target.files?.[0];if(f)importFile(f);e.target.value="";
      });
      document.getElementById("btnAdd").onclick=()=>{ addItem(input.value); input.value=""; input.focus(); };
      input.addEventListener("keydown", e=>{
        if(e.key==="Enter"){ e.preventDefault(); addItem(input.value); input.value=""; }
      });

      render();
    }
  </script>
</head><body><div class="app"><header><h1>Belangrijke dingen</h1><div class="nav"><a href="index.html">‚Üê Terug</a><button id="btnSeed">Herstel standaardlijst</button><button id="btnReset">Alles herstellen</button><button id="btnExport">Exporteer</button><button id="btnImport">Importeer</button><button id="btnClear">Alles wissen</button></div></header><div class="add"><input id="newItem" type="text" placeholder="Voeg hier je belangrijke dingen toe‚Ä¶" /><button id="btnAdd">Toevoegen</button></div><div id="emptyBox" class="empty" style="display:none">Nog leeg. Voeg items toe of klik op <b>Herstel standaardlijst</b>.</div><ul id="list"></ul><footer>Opslag via localStorage (KEY: opening_belangrijk)</footer></div><input type="file" id="fileInput" accept="application/json" style="display:none" /><script>createChecklist({KEY:"opening_belangrijk",defaultItems:[]});</script></body></html>